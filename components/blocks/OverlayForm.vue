<template>
  <div class="form-overlay fixed bg-srwhite  px-5  w-full z-50 h-full  ">
    <img @click="clickHandler" src="~/assets/images/close.svg" class="ml-auto mt-4 cursor-pointer">
    <h3 class="text-center text-2xl  font-bold text-xl pb-4 leading-7 pt-4  text-srblue
md:text-22.5 md:leading-25">
      Letâ€™s get in touch!
    </h3>
    <div class=" m-auto w-full sm:w-138.5   bg-srwhite py-4 md:py-11 px-8.5 " >
      <style type="text/css">@import url("https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i");@import url("https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i");@import url("https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i");@import url("https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i");@import url("https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i");.embed-form-super-wrapper .hs-form {max-width:100%;margin: auto;}.embed-form-super-wrapper .hs-form input[type=date],.embed-form-super-wrapper .hs-form input[type=datetime], .embed-form-super-wrapper .hs-form input[type=datetime-local], .embed-form-super-wrapper .hs-form input[type=email], .embed-form-super-wrapper .hs-form input[type=month], .embed-form-super-wrapper .hs-form input[type=number], .embed-form-super-wrapper .hs-form input[type=password], .embed-form-super-wrapper .hs-form input[type=range], .embed-form-super-wrapper .hs-form input[type=search], .embed-form-super-wrapper .hs-form input[type=tel], .embed-form-super-wrapper .hs-form input[type=text], .embed-form-super-wrapper .hs-form input[type=time], .embed-form-super-wrapper .hs-form input[type=url], .embed-form-super-wrapper .hs-form input[type=week], .embed-form-super-wrapper .hs-form fieldset.form-columns-1 textarea.hs-input, .embed-form-super-wrapper .hs-form fieldset.form-columns-1 .input select, .embed-form-super-wrapper .hs-form .input textarea, .embed-form-super-wrapper .hs-form .hs-input textarea, .embed-form-super-wrapper .hs-form textarea, .embed-form-super-wrapper .hs-form .input select, .embed-form-super-wrapper .hs-form .hs-input select, .embed-form-super-wrapper .hs-form select  {border: 1px solid #d6d6d6;width: 100%;padding: 9px 14px;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;}.embed-form-super-wrapper .hs-form ul {list-style-type: none;margin-left: 0; padding-left: 0;}.embed-form-super-wrapper .hs-form fieldset.form-columns-1 .hs-input{width: 100% !important;}.embed-form-super-wrapper .hs-form fieldset.form-columns-1 input[type="checkbox"], .embed-form-super-wrapper .hs-form fieldset.form-columns-1 input[type="radio"] {width: auto !important;margin-right: 15px !important;margin-top: -2px;}.embed-form-super-wrapper .hs-form label {color: #606060;}.embed-form-super-wrapper .hs-form fieldset {max-width: 100% !important;}.embed-form-super-wrapper .hs-form fieldset.form-columns-3 .hs-form-field {width: 33.333% !important;}.embed-form-super-wrapper .hs-form fieldset {margin-bottom: 0 !important;}.embed-form-super-wrapper .hs-form .hs-form-field {margin-bottom: 15px;}.embed-form-super-wrapper .hs-form label {font-weight: normal;letter-spacing: 1px;}.embed-form-super-wrapper .hs-form ul li {margin-top: 4px;margin-bottom: 4px !important;float: left;width: 100%;}.embed-form-super-wrapper .hs-form fieldset textarea.hs-input {min-height: 200px;}.embed-form-super-wrapper .hs-form select{-webkit-appearance: none;-moz-appearance: none;appearance: none;padding: 5px;border-radius: 0;} .embed-form-super-wrapper .hs-form input[type=reset], .embed-form-super-wrapper .hs-form input[type=submit] {background:#606060;color: white;padding: 7px 45px;font-weight: bold;font-size: 20px;text-transform: uppercase;letter-spacing: 2px;margin-top: 15px;}.embed-form-super-wrapper .hs-form fieldset.form-columns-2 .hs-form-field { width: 50%; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.embed-form-super-wrapper .hs-form fieldset.form-columns-3 .hs-form-field, .embed-form-super-wrapper .hs-form fieldset.form-columns-2 .hs-form-field {float: left;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.embed-form-super-wrapper .hs-form fieldset .hs-form-field {padding: 0 10px;-moz-box-sizing: border-box;-webkit-box-sizing: border-box; box-sizing: border-box;}.hs_cos_wrapper.form-title {display: none;}@media screen and (max-width:400px) {.embed-form-super-wrapper .hs-form fieldset.form-columns-3 .hs-form-field {width: 100% !important;}}.embed-form-super-wrapper {    -moz-box-sizing:border-box;-webkit-box-sizing: border-box;box-sizing: border-box;width: 100%;background: rgba(255,255,255,0.02);border-top-width: 0px;border-bottom-width: 0px;border-left-width: 0px;border-right-width: 0px;border-radius: 0px !important;-moz-border-radius: 0px !important;-webkit-border-radius: 0px !important;border-color: rgba(186,186,186,0.03) !important;border-style: solid !important;padding-top: 0px !important;padding-bottom: 0px !important;padding-left: 0px !important;padding-right: 0px !important;margin: 0 auto;}.embed-form-super-wrapper .hs-form label, .embed-form-super-wrapper .hs-form label span {font-family: 'Raleway', Arial !important;color: #636363 !important;font-size: 14px !important;letter-spacing: 0px !important;font-weight: 500 !important;margin-bottom: 6px;}.embed-form-super-wrapper .hs-form label {width: 100% !important;float:left !important;text-align: left !important;padding-left: 0px !important;padding-right: 0px !important;padding-top: 0px !important;padding-bottom: 0px !important;}.embed-form-super-wrapper .hs-form input[type=date], .embed-form-super-wrapper .hs-form input[type=datetime], .embed-form-super-wrapper .hs-form input[type=datetime-local], .embed-form-super-wrapper .hs-form input[type=email], .embed-form-super-wrapper .hs-form input[type=month], input[type=number], .embed-form-super-wrapper .hs-form input[type=password], .embed-form-super-wrapper .hs-form input[type=range], .embed-form-super-wrapper .hs-form input[type=search], .embed-form-super-wrapper .hs-form input[type=tel], .embed-form-super-wrapper .hs-form input[type=text], .embed-form-super-wrapper .hs-form input[type=time], .embed-form-super-wrapper .hs-form input[type=url], .embed-form-super-wrapper .hs-form input[type=week], .embed-form-super-wrapper .hs-form .input textarea, .embed-form-super-wrapper .hs-form .hs-input textarea,.embed-form-super-wrapper .hs-form textarea, .embed-form-super-wrapper .hs-form .input select, .embed-form-super-wrapper .hs-form .hs-input select, .embed-form-super-wrapper .hs-form select {text-align: left !important;font-family: 'Raleway', Arial !important;letter-spacing: 0px !important;font-weight: 400 !important;font-size: 15px !important;border-color: #164cd6 !important;color: #000000 !important;background-color: rgba(248,248,248,0.01) !important;padding-top: 10px;padding-bottom: 10px;padding-left: 10px;padding-right: 10px;border-style: solid !important;border-radius: 0px !important;-moz-border-radius: 0px !important;-webkit-border-radius: 0px !important;box-sizing: border-box;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;border-top-width: 0px !important;border-bottom-width: 1px !important;border-left-width: 0px !important;border-right-width: 0px !important;height:auto !important;}.embed-form-super-wrapper .hs-form input::-webkit-input-placeholder, .embed-form-super-wrapper .hs-form select::-webkit-input-placeholder{color:#616060 !important;text-align: left !important;}.embed-form-super-wrapper .hs-form input::-moz-placeholder, .embed-form-super-wrapper .hs-form select::-moz-placeholder{color:#616060 !important;text-align: left !important;}.embed-form-super-wrapper .hs-form input:-ms-input-placeholder, .embed-form-super-wrapper .hs-form select:-ms-input-placeholder{color:#616060 !important;text-align: left !important;}.embed-form-super-wrapper .hs-form input:-moz-placeholder, .embed-form-super-wrapper .hs-form select:-moz-placeholder{color:#616060 !important;text-align: left !important;}.embed-form-super-wrapper .hs-form input[type=reset], .embed-form-super-wrapper .hs-form input[type=submit] {font-family: 'Raleway', Arial !important;letter-spacing: 2px !important;font-weight: 800 !important;font-size: 16px !important;color: #164cd6 !important;background: #ffffff !important;border-top-width: 2px !important;border-bottom-width: 2px !important;border-left-width: 2px !important;border-right-width: 2px !important;border-radius: 0px !important;border-style: solid !important; border-color: #164cd6 !important;border-radius: 0px !important;-moz-border-radius: 0px !important;-webkit-border-radius: 0px !important;box-sizing:border-box;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;padding-top: 20px;padding-bottom: 20px;padding-left: 40px;padding-right: 40px;-webkit-transition: all .2s linear;-o-transition: all .2s linear;-moz-transition: all .2s linear;-ms-transition: all .2s linear;transition: all .2s linear;-khtml-transition: all .2s linear;}.embed-form-super-wrapper .hs-form .hs-submit {display: inline-block;width: 100%;}.embed-form-super-wrapper .hs-form .hs-submit .actions {width: 100% !important;float: left !important;clear: both !important;text-align: left !important;box-sizing:border-box;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;padding-left: 11px !important;padding-right: 17px !important;}@media screen and (max-width:767px){.embed-form-super-wrapper .hs-form .form-columns-2>div.hs-form-field,.embed-form-super-wrapper .hs-form .form-columns-3>div.hs-form-field,.embed-form-super-wrapper .hs-form .form-columns-4>div.hs-form-field{width: 100% !important;}}.embed-form-super-wrapper .hs-richtext{float: left !important;width: 100% !important;padding-top: 20px !important;padding-bottom: 20px !important;padding-left: 20px !important;padding-right: 20px !important;color: #666666 !important;font-weight: 600 !important;letter-spacing: 1px !important;font-size: 12px !important;font-family: 'Raleway' !important;}.embed-form-super-wrapper .hs-form .hs-submit .actions {text-align: right !important;}.embed-form-super-wrapper .hs-form .hs-error-msgs label, .embed-form-super-wrapper .hs-form .hs-error-msgs label span {font-family: 'Raleway', Arial !important;letter-spacing: 1px !important;font-weight: 300 !important;font-size: 12px !important;color: #ff7373 !important;}.embed-form-super-wrapper .hs-form button:hover, .embed-form-super-wrapper .hs-form input[type=button]:hover, .embed-form-super-wrapper .hs-form input[type=reset]:hover, .embed-form-super-wrapper .hs-form input[type=submit]:hover {background: #164cd6 !important;color: #ffffff !important; border-color: #164cd6 !important;}.grecaptcha-badge {width: auto !important;height: auto !important;box-shadow: none !important;}.embed-form-super-wrapper .hs-form input[type="checkbox"]{margin-right: 10px;margin-top: -2px;}.center-the-form form, .center-the-form form input {text-align: center;}.fn-date-picker .pika-button{text-align: center !important;}</style><script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2.js"></script><script>hbspt.forms.create({target:".Belch-LTRrzyxCkSwnyXVrFslZ", portalId: "25028945",formId: "4c813ada-7b94-47f6-997c-135d44cb77b9",css: ""});</script><div class="embed-form-super-wrapper Belch-LTRrzyxCkSwnyXVrFslZ"></div>
<!--      <form class="grid grid-cols-2	gap-x-16" method="POST" @submit.prevent="sendEmail">-->
<!--        <input name="fullname" placeholder="Full Name*" required-->
<!--              v-model="fullname" class="border-b text-sm pr-2.5 pb-4 mb-4 border-srskyblue h-8 ">-->
<!--        <input name="business" placeholder="Business"-->
<!--             v-model="business"  class="border-b  text-sm pr-2.5 pb-4  mb-4  border-srskyblue h-8 ">-->
<!--        <input name="phone" placeholder="Phone*" required-->
<!--            v-model="phone"   class="border-b  text-sm pr-2.5 mb-4 pb-4  border-srskyblue h-8 ">-->
<!--        <input name="sender" placeholder="sender*"  required-->
<!--             v-model="sender"  class="border-b  text-sm  pr-2.5 mb-4 pb-4  border-srskyblue h-8 ">-->
<!--        <span v-if="currentRouteName === 'indoor-farming'"></span>-->
<!--        <textarea v-else  name="message"  placeholder="Message..."-->
<!--               v-model="body"-->
<!--                  class="col-span-2 w-full border-0 border-b pr-2.5 mb-8 text-sm border-srskyblue"></textarea>-->
<!--        <button-->

<!--          class="border-2 flex flex-row justify-center-->
<!--          text-srblue text-base font-bold py-4 px-7.5 border-srblue-->
<!--          col-span-2 w-36 justify-self-end mt-1 hover:bg-srblue hover:text-srwhite transition duration-500 ease-in-out;">-->
<!--          Send-->
<!--        </button>-->
<!--      </form>-->

    </div>



  </div>


</template>

<script>
import axios from "axios";

// import postmark from "postmark"
export default {

  data(){
    return {
      fullname:"",
      business:"",
      phone:"",
      from:"hello@sr-stage.kortaben.work",
      body:" ",
      sender:""
    }
  },
  methods: {
    clickHandler(e) {
      this.$emit("popupToggle");
    },

    async sendEmail() {
      // this.submitting = true
      // this.$ga.event('submit', 'form', this.$i18n.locale)
      // this.error = false
      try {
        console.log(
          "fullname: " + this.fullname,
          "business: " + this.business,
          "phone: " + this.phone,
          "sender: " + this.sender,
          "body: " + this.body)
        await this.$axios.$post('/mailer/send', {
          fullname:this.fullname,
          business:this.business,
          phone:this.phone,
          body:this.body,
          sender:this.sender,
          subject: "Message from contact form"
        })
        // this.submitting = false
        // this.isSubmitted = true
        await new Promise(resolve => setTimeout(resolve, 2500))
        this.clickHandler();
        // this.$emit('close')
      } catch (e) {
        // this.submitting = false
        // this.error = true
        console.error(e)
      }
    }

  },
  computed: {
    currentRouteName() {
      return this.$route.name;
    }
  }
}
</script>

<style>
.form-overlay{
  /*padding-top: 15% ;*/
}
/*.form-overlay>div{*/
/*  box-shadow: 0px 0px 19px rgba(0, 0, 0, 0.05);*/
/*}*/

.form-overlay>div button:hover:after{
  @apply pl-4 transition duration-500 ease-in-out;
  content: url("~/assets/images/white-right.svg");
  /*-webkit-mask-image: url("~/assets/images/right-blue.svg");*/
}
.form-overlay>div button:after{
  @apply pl-4 pt-0.5;
  content: url("~/assets/images/right-blue.svg");
  /*-webkit-mask-image: url("~/assets/images/right-blue.svg");*/
}

.form-overlay textarea {
  padding-left: 0px;
}

</style>
